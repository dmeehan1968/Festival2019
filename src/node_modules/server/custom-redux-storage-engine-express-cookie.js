export default function createExpressCookieEngine(key, cookies = [], setCookie = (key, value, options) => {}, options = {}) {
  return {
    load: () => {
      return Promise.resolve(cookies[key] ? JSON.parse(cookies[key]) : {})
    },
    save: (state) => {
      setCookie(key, JSON.stringify(state), options)
      return Promise.resolve()
    },
  }
}
