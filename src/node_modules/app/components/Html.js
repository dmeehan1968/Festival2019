import React from 'react'
import serialize from 'serialize-javascript'

export default (helmet, body, state) => `
  <!doctype html>
  <html ${helmet.htmlAttributes.toString()}>
    <head>
      ${helmet.title.toString()}
      ${helmet.base.toString()}
      ${helmet.link.toString()}
      <meta charset="utf-8" />
      ${helmet.meta.toString()}
      ${helmet.script.toString()}
      ${helmet.noscript.toString()}
      ${helmet.style.toString()}
      <script type="text/javascript">
        window.__INITIAL_STATE__ = ${serialize(state, { isJSON: true })}
      </script>
    </head>
    <body ${helmet.bodyAttributes.toString()}>
      <main id="root">
        ${body}
        <script type="text/javascript" src="/client.bundle.js"></script>
      </main>
    </body>
  </html>
`
