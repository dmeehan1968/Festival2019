import React from 'react'
import serialize from 'serialize-javascript'

const Html = ({inner, state, children}) => {
  return (<html>
    <head>
      <meta charSet="utf8" />
      <title>React</title>
      {state ? <script type="text/javascript" dangerouslySetInnerHTML={
        {
          __html: `window.__INITIAL_STATE__ = ${serialize(state, { isJSON: true })}`
        }
      } /> : null}
    </head>
    <body>
      <main id="root">
        {children}
        <script type="text/javascript" src="/client.bundle.js" />
      </main>
    </body>
  </html>
  )
}

export default Html

// class Html extends React.Component {
//   render() {
//     return (<html>
//       <head>
//         <meta charSet="utf8" />
//         <title>React</title>
//         <script type="text/javascript" dangerouslySetInnerHTML={{__html: this.props.script}} />
//       </head>
//       <body>
//         <div id="root">
//           {this.props.inner}
//           <script type="text/javascript" src="client.bundle.js" />
//         </div>
//       </body>
//     </html>
// )
//   }
// }
//
