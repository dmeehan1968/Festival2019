import React from 'react'
import { connect } from 'react-redux'
import { Helmet } from 'react-helmet'

const Meta = ({ title, content }) => {
  if (!content) return null
  return (
    <section className={title.toLowerCase().replace(/[^a-zA-Z0-9]/g,'-').replace(/--/g,'-')}>
      <h1>{title}</h1>
      <p>{content}</p>
    </section>
  )
}

const Event = ({ event }) => {
  return (
    <section className="event">
      <Helmet>
        <title>{event.title}</title>
      </Helmet>
      <Meta title="Title" content={event.title} />
      <Meta title="About the Event" content={event.shortdesc} />
      <Meta title="Event Type" content={event.eventtypes.map(e => e.description).join(', ')} />
      <Meta title="Disciplines" content={event.disciplines.map(d => d.description).join(', ')} />
      <Meta title="Telephone" content={event.contact.telephone} />
      <Meta title="Email" content={event.contact.email} />
      <Meta title="Web" content={event.contact.website} />
    </section>
  )
}

const mapStateToProps = state => ({
  event: state.event
})

const mapDispatchToProps = dispatch => ({
  // setEvents: events => dispatch(setEvents(events))
})

export default connect(mapStateToProps, mapDispatchToProps)(Event)
