import React from 'react'
import { connect } from 'react-redux'
import { setEvents } from '../actions'
import EventCard from './EventCard'

import styles from './EventList.less'

const EventList = ({ events, className }) => {
  return (
    <section className={[styles.eventlist, className].join(' ')}>
      {events.length == 0 ? <section>No events</section> : null}
      {events.map((event, index) => <EventCard key={index} {...event} />)}
    </section>
  )
}

const mapStateToProps = state => ({
  events: state.events
})

const mapDispatchToProps = dispatch => ({
  setEvents: events => dispatch(setEvents(events))
})

export default connect(mapStateToProps, mapDispatchToProps)(EventList)
